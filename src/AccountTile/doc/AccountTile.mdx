---
name: AccountTile
route: /account-tile
---

import { Playground, PropsTable } from 'docz';
import GuideExample from '../../../docz/GuideExample';

import AccountTile from '../';
import Button from '../../Button';
import { useAccountManager } from '../../ArcgisAccount';
import Panel from '../../Panel';

# Account Tile

The `AccountTile` component can be used when the user needs to frequently switch between or manage different accounts.

#### Import Syntax

```js
import AccountTile from 'calcite-react/AccountTile';
```

## Basic Usage

<Playground style={{height: '200px', background: "#f3f3f3"}}>
  {() => {
    const AccountTileExample = () => {
      
      const placeholders = {
        actions: [
          {
            label: 'Sign out',
            onClick: () => console.log('sign out')
          },
          {
            label: 'Remove Account',
            onClick: () => console.log('remove account')
          }
        ],
        user: {
          arcgisAccountUrl: '',
          username: 'jharig',
          fullName: 'Joey Harig',
          firstName: 'Joey',
          lastName: 'Harig'
        },
        isAuthenticated: true,
        orgName: 'Esri',
        userThumbnail: {
          url: null,
          letters: 'JH'
        },
        orgThumbnail: {
          url: null,
          letters: 'E'
        }
      }

      return (
        <AccountTile
          actions={placeholders.actions}
          user={placeholders.user}
          isAuthenticated={placeholders.isAuthenticated}
          orgName={placeholders.orgName}
          userThumbnail={placeholders.userThumbnail}
          orgThumbnail={placeholders.orgThumbnail}
        />
      );
    }

    return <AccountTileExample />;

}}

</Playground>

## Multiple Accounts

<Playground style={{ background: "#f3f3f3" }}>
  {() => {
    const AccountTilesExample = () => {
      
      const accounts = [
        { 
          user: {
            username: 'jharig',
            fullName: 'Joey Harig',
            firstName: 'Joey',
            lastName: 'Harig'
          },
          isAuthenticated: true,
          orgName: 'Esri Profesional Services',
          userThumbnail: null,
          userThumbnail: {
            url: null,
            letters: 'JH'
          },
          orgThumbnail: {
            url: null,
            letters: 'E'
          }
        },
        { 
          user: {
            username: 'selse',
            fullName: 'Someone Else',
            firstName: 'Someone',
            lastName: 'Else'
          },
          isAuthenticated: false,
          orgName: 'Esri',
          userThumbnail: {
            url: null,
            letters: 'SE'
          },
          orgThumbnail: {
            url: null,
            letters: 'E'
          }
        }
      ];

      const createActions = (user, isAuthenticated) => {
        let actions = [{
            label: 'Remove account', onClick: () => console.log('remove')
        }];
        if (isAuthenticated) {
          actions.unshift({
            label: 'Sign out', onClick: () => console.log('sign out')
          });
        } else {
          actions.unshift({
            label: 'Sign in', onClick: () => console.log('sign in')
          });
        }
        return actions;
      };

      const accountTiles = accounts.map(account => {
        return <AccountTile
          key={account.user.fullName}
          actions={createActions(account.user, account.isAuthenticated)}
          user={account.user}
          isAuthenticated={account.isAuthenticated}
          orgName={account.orgName}
          userThumbnail={account.userThumbnail}
          orgThumbnail={account.orgThumbnail}
        />
      });

      return <Panel>{accountTiles}</Panel>;
    }

    return (
      <AccountTilesExample />
    );

}}

</Playground>

## With the `useAccountManager` hook

<Playground style={{ background: "#f3f3f3" }}>
  {() => {
    const UseAccountManagerExample = () => {
      
      const options = {
        clientId: "I2YAIyLxcjzok07Y",
        redirectUri: `${window.location.origin}/account-tile`,
        popup: true,
      };

      const {
        accountManagerState,
        addAccount,
        logoutAccount,
        removeAccount,
        restoreAccount,
        refreshAccount,
        switchActiveAccount,
        getUserThumbnail,
        getOrgThumbnail
      } = useAccountManager(options);

      const accounts = accountManagerState.accounts;

      const createActions = (key, isAuthenticated) => {
        let actions = [{
            label: 'Remove account', onClick: () => removeAccount(key)
        }];
        if (isAuthenticated) {
          actions.unshift({
            label: 'Sign out', onClick: () => logoutAccount(key)
          });
        } else {
          actions.unshift({
            label: 'Sign in', onClick: () => restoreAccount(options)
          });
        }
        return actions;
      };

      const accountTiles = Object.keys(accounts).map(key => {
        const account = accounts[key];
        const isAuthenticated = !!account.token;
        return <AccountTile
          key={key}
          actions={createActions(key, isAuthenticated)}
          user={account.user}
          isAuthenticated={isAuthenticated}
          orgName={account.portal.name}
          userThumbnail={getUserThumbnail(account)}
          orgThumbnail={getOrgThumbnail(account)}
        />
      });

      return (
        <div>
          <Panel
            style={{
              marginBottom: '16px',
              width: '400px'
            }}
          >
            {accountTiles.length ? accountTiles : 'No accounts added yet'}
          </Panel>
          <Button 
            onClick={() => addAccount(options)}
            >Add account
          </Button>
        </div>
      );
    }

    return (
      <UseAccountManagerExample />
    );

}}

</Playground>

## Props

<PropsTable of={AccountTile} />
